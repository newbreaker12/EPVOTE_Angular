<!-- Container for Total Votes Table -->
<mat-card class="info-card">
  <mat-card-title>Total Votes for Each Article</mat-card-title>
  <mat-card-content>
    <p>
      Below is a summary of the total votes for each article, displaying the counts of votes in favor, against, and neutral. Use the column headers to sort the data as needed.
    </p>
    <table class="custom-table" mat-table [dataSource]="dataSourceTotals" matSort class="mat-elevation-z8">
      <ng-container matColumnDef="articleName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Article Name</th>
        <td mat-cell *matCellDef="let item">{{ item.articleName }}</td>
      </ng-container>
      <ng-container matColumnDef="voteInFavourCount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <mat-icon matTooltip="In favour">thumb_up</mat-icon>
        </th>
        <td mat-cell *matCellDef="let item">{{ item.inFavorCount }}</td>
      </ng-container>
      <ng-container matColumnDef="voteNotInFavourCount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <mat-icon matTooltip="Not in favour">thumb_down</mat-icon>
        </th>
        <td mat-cell *matCellDef="let item">{{ item.notInFavorCount }}</td>
      </ng-container>
      <ng-container matColumnDef="voteNeutralCount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <mat-icon matTooltip="Neutral">remove</mat-icon>
        </th>
        <td mat-cell *matCellDef="let item">{{ item.neutralCount }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumnsTotals"></tr>
      <tr mat-row (click)="clickRow(row)" *matRowDef="let row; columns: displayedColumnsTotals"></tr>
    </table>
  </mat-card-content>
</mat-card>

<mat-card class="info-card">
  <mat-card-title>Total Users Voted for Each Article</mat-card-title>
  <mat-card-content>
    <p>
    </p>
    <table class="custom-table" mat-table [dataSource]="dataSourceUserStats" matSort class="mat-elevation-z8">
      <ng-container matColumnDef="articleName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Article Name</th>
        <td mat-cell *matCellDef="let item">{{ item.articleName }}</td>
      </ng-container>
      <ng-container matColumnDef="usersVoted">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Users Voted</th>
        <td mat-cell *matCellDef="let item">{{ item.usersVoted }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumnsUsers"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsUsers"></tr>
    </table>
  </mat-card-content>
</mat-card>


<!-- Container for Articles and Subarticles Table -->
<mat-card class="info-card" style="margin-top: 30px;">
  <mat-card-title>List of All Articles and Subarticles</mat-card-title>
  <mat-card-content>
    <p>
      Below is a summary of the total votes for each subarticle, displaying the counts of votes in favor, against, and neutral. Use list box to select the article to sort the data as needed.
    </p>
    <mat-toolbar>
      <mat-form-field class="select-field">
        <mat-label>Select political group</mat-label>
        <mat-select [(ngModel)]="selectedValue" name="filter" (selectionChange)="filter()">
          <mat-option [value]="'all'">All</mat-option>
          <mat-option *ngFor="let item of groups" [value]="item">{{ item }}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-paginator [pageSizeOptions]="[10, 25, 50]" showFirstLastButtons></mat-paginator>
    </mat-toolbar>

    <table class="custom-table" mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
      <ng-container matColumnDef="articleName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Article</th>
        <td mat-cell *matCellDef="let item">{{ item.articleName }}</td>
      </ng-container>
      <ng-container matColumnDef="subArticleName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Sub Article</th>
        <td mat-cell *matCellDef="let item">{{ item.subArticleName }}</td>
      </ng-container>
      <ng-container matColumnDef="voteInFavourCount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <mat-icon matTooltip="In favour">thumb_up</mat-icon>
        </th>
        <td mat-cell *matCellDef="let item">{{ item.inFavorCount }}</td>
      </ng-container>
      <ng-container matColumnDef="voteNotInFavourCount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <mat-icon matTooltip="Not in favour">thumb_down</mat-icon>
        </th>
        <td mat-cell *matCellDef="let item">{{ item.notInFavorCount }}</td>
      </ng-container>
      <ng-container matColumnDef="voteNeutralCount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <mat-icon matTooltip="Neutral">remove</mat-icon>
        </th>
        <td mat-cell *matCellDef="let item">{{ item.neutralCount }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row (click)="clickRow(row)" *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </mat-card-content>
</mat-card>
